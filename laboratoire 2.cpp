#include <iostream>
#include <cstdlib>
#include <ctime>
using namespace std;

const int N = 100;

int main() {
    srand(time(0));
    int массив[N];
    
    cout << "=== ПРАКТИЧЕСКАЯ РАБОТА №2 ===" << endl;
    
    // 1. Генерация
    cout << "\n1. МАССИВ ИЗ " << N << " ЧИСЕЛ (-99 до 99):" << endl;
    for(int i = 0; i < N; i++) {
        массив[i] = rand() % 199 - 99;
        cout << массив[i] << " ";
        if((i+1) % 10 == 0) cout << endl;
    }
    
    // 2. Минимум и максимум
    int мин = массив[0], макс = массив[0];
    for(int i = 1; i < N; i++) {
        if(массив[i] < мин) мин = массив[i];
        if(массив[i] > макс) макс = массив[i];
    }
    cout << "\n2. МИНИМУМ И МАКСИМУМ:" << endl;
    cout << "Мин = " << мин << ", Макс = " << макс << endl;
    
    // 3. Среднее
    int среднее = (мин + макс) / 2;
    cout << "\n3. СРЕДНЕЕ (мин+макс)/2:" << endl;
    cout << "(" << мин << " + " << макс << ") / 2 = " << среднее << endl;
    
    // 4. Элементы < a
    int a;
    cout << "\n4. ЭЛЕМЕНТЫ < a:" << endl;
    cout << "Введите a: ";
    cin >> a;
    int счетчикA = 0;
    for(int i = 0; i < N; i++) {
        if(массив[i] < a) счетчикA++;
    }
    cout << счетчикA << " элементов < " << a << endl;
    
    // 5. Элементы > b
    int b;
    cout << "\n5. ЭЛЕМЕНТЫ > b:" << endl;
    cout << "Введите b: ";
    cin >> b;
    int счетчикB = 0;
    for(int i = 0; i < N; i++) {
        if(массив[i] > b) счетчикB++;
    }
    cout << счетчикB << " элементов > " << b << endl;
    
    // 6. ЗАДАЧА 37 - Алгоритм Кадане
    cout << "\n6. ЗАДАЧА 37 - ПОДМАССИВ С МАКСИМАЛЬНОЙ СУММОЙ (КАДАНЕ):" << endl;
    
    // Простая версия Кадане (только максимальная сумма)
    int максСумма = массив[0];
    int текущаяСумма = массив[0];
    
    for(int i = 1; i < N; i++) {
        if(массив[i] > текущаяСумма + массив[i]) {
            текущаяСумма = массив[i];
        } else {
            текущаяСумма += массив[i];
        }
        
        if(текущаяСумма > максСумма) {
            максСумма = текущаяСумма;
        }
    }
    
    cout << "Максимальная сумма непрерывного подмассива: " << максСумма << endl;
    
    // Полная версия (с индексами)
    cout << "\n7. ВЕРСИЯ С ИНДЕКСАМИ:" << endl;
    int лучшаяСумма = массив[0];
    int текущаяСумма2 = массив[0];
    int начало = 0, конец = 0;
    int текущееНачало = 0;
    
    for(int i = 1; i < N; i++) {
        if(массив[i] > текущаяСумма2 + массив[i]) {
            текущаяСумма2 = массив[i];
            текущееНачало = i;
        } else {
            текущаяСумма2 += массив[i];
        }
        
        if(текущаяСумма2 > лучшаяСумма) {
            лучшаяСумма = текущаяСумма2;
            начало = текущееНачало;
            конец = i;
        }
    }
    
    cout << "Максимальная сумма: " << лучшаяСумма << endl;
    cout << "Подмассив: индексы " << начало << " до " << конец << endl;
    cout << "Элементы: ";
    for(int i = начало; i <= конец && i < N; i++) {
        cout << массив[i] << " ";
    }
    cout << endl;
    
    return 0;
}